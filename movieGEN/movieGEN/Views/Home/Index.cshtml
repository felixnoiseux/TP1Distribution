@model List<ImdbEntity>

@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
    ImdbEntity[] col1 = new ImdbEntity[12];
    int pos = 0;
    foreach (var item in Model)
    {
        if (pos <= 9)
        {
            col1[pos] = item;
            pos++;
        }
    }

}
<form class="col-md-12" method="get" action="@Url.Action("Index", "Home")" style="margin-top: 10px">
    <input class="col-md-12" type="text" name="search" id="search" />
    <button style="visibility:hidden" type="submit" id="searchButton">Rechercher</button>
</form>
@if (Model.Count != 0)
{
    @for (int i = 0; i < 3; i++)
    {
        <div class="card-deck">
            @*<div class="container row col-md-12" id="FilmIndex">*@
            @for (int i1 = 0; i1 < 4; i1++)
            {
                if (@col1[((i * 4) + i1)] != null)
                {
                    <div class="card col-md-3">
                        <img class="col-md-6 img-fluid" style="margin-left : auto; margin-right : auto;" src="@col1[((i * 4) + i1)].Poster" alt="Card image cap">
                        <div class="card-footer" style="margin-top : 4px">
                            <p class="card-text">@col1[((i * 4) + i1)].Title</p>
                            <form method="post">
                                <button class="rounded float-right" asp-action="Details" asp-route-imdbID="@col1[((i * 4) + i1)].imdbID">Détails</button>
                            </form>
                        </div>
                    </div>
                    <br><br>
                }
            }
        </div>

    }
    <div class="container row col-md-12">
        @if (ViewData["PreviousPage"] != null)
        {
            <a asp-controller="Home" asp-action="Index" asp-route-search=@ViewData["search"] asp-route-page=@ViewData["PreviousPage"]>
                Précédent
            </a>
        }
        <p>@ViewData["ActualPage"]</p>
        @if (ViewData["NextPage"] != null)
        {
            <a asp-controller="Home" asp-action="Index" asp-route-search=@ViewData["search"] asp-route-page=@ViewData["NextPage"]>
                Suivant
            </a>
        }
    </div>
}
else
{
    <div class="col-md-12" style="text-align:center">
        <h1>Aucun ou trop de résultat</h1>
    </div>
}
<script>
    var input = document.getElementById("search");

    // Execute a function when the user releases a key on the keyboard
    input.addEventListener("keyup", function (event) {
        // Number 13 is the "Enter" key on the keyboard
        if (event.keyCode === 13) {
            // Cancel the default action, if needed
            event.preventDefault();
            // Trigger the button element with a click
            document.getElementById("searchButton").click();
        }
    });
</script>


